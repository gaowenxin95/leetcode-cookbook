---
title : leetcode_hot_100
author: é«˜æ–‡æ¬£
date: "`r Sys.Date()`"
output: bookdown::gitbook
bibliography: refs/add.bib
---

# leetcode_hot_100

## ä¸¤æ•°ä¹‹å’Œ


ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ ä¸¤ä¸ª æ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚
ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œä½ ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚

ç¤ºä¾‹:

ç»™å®š nums = [2, 7, 11, 15], target = 9
å› ä¸º nums[0] + nums[1] = 2 + 7 = 9
æ‰€ä»¥è¿”å› [0, 1]

```r

class Solution(object):

# å®šä¹‰twoSumæ–¹æ³•ï¼Œæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ•´æ•°ç±»å‹çš„åˆ—è¡¨numså’Œä¸€ä¸ªæ•´æ•°ç±»å‹çš„targetï¼Œè¿”å›ä¸€ä¸ªæ•´æ•°ç±»å‹çš„åˆ—è¡¨
def twoSum(self, nums: List[int], target: int) -> List[int]:
    
    # åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸records
    records = dict()

    # ä½¿ç”¨enumerateå‡½æ•°éå†åˆ—è¡¨numsä¸­æ‰€æœ‰å…ƒç´ ï¼ˆvalueï¼‰ï¼Œå¾—åˆ°å¯¹åº”ä¸‹æ ‡ï¼ˆindexï¼‰
    for index, value in enumerate(nums):
        
        # å¯¹äºå½“å‰å…ƒç´ ï¼ˆvalueï¼‰ï¼Œåœ¨recordså­—å…¸ä¸­æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨åŒ¹é…çš„keyï¼ˆå³å·®å€¼ï¼‰ï¼Œå¦‚æœå­˜åœ¨ï¼Œå°±è¿”å›å¯¹åº”é”®å’Œå½“å‰ä¸‹æ ‡æ„æˆçš„åˆ—è¡¨
        if target - value in records:
            return [records[target- value], index]
        
        # å¦‚æœæœªæ‰¾åˆ°åŒ¹é…çš„keyï¼Œå°†è¯¥å…ƒç´ ä½œä¸ºä¸€ä¸ªæ–°keyæ·»åŠ åˆ°å­—å…¸recordsä¸­ï¼Œå¹¶å°†å…¶ä¸‹æ ‡ä½œä¸ºå¯¹åº”çš„valueè¿›è¡Œå­˜å‚¨
        records[value] = index

    # å¦‚æœæ•´ä¸ªå¾ªç¯ç»“æŸåä»æœªæ‰¾åˆ°æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºåˆ—è¡¨
    return []

```

## å­—æ¯å¼‚ä½è¯åˆ†ç»„

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œè¯·ä½ å°† å­—æ¯å¼‚ä½è¯ ç»„åˆåœ¨ä¸€èµ·ã€‚å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç»“æœåˆ—è¡¨ã€‚

å­—æ¯å¼‚ä½è¯ æ˜¯ç”±é‡æ–°æ’åˆ—æºå•è¯çš„å­—æ¯å¾—åˆ°çš„ä¸€ä¸ªæ–°å•è¯ï¼Œæ‰€æœ‰æºå•è¯ä¸­çš„å­—æ¯é€šå¸¸æ°å¥½åªç”¨ä¸€æ¬¡ã€‚


ç¤ºä¾‹ 1:

è¾“å…¥: strs = ["eat", "tea", "tan", "ate", "nat", "bat"]
è¾“å‡º: [["bat"],["nat","tan"],["ate","eat","tea"]]
ç¤ºä¾‹ 2:

è¾“å…¥: strs = [""]
è¾“å‡º: [[""]]
ç¤ºä¾‹ 3:

è¾“å…¥: strs = ["a"]
è¾“å‡º: [["a"]]

**è§£é¢˜æ€è·¯**ï¼šæ­¤å¤„æ’°å†™è§£é¢˜æ€è·¯ å¯¹åˆ—è¡¨å…ƒç´ åšæ’åºå¤„ç†ï¼Œè¿™æ ·ç›¸åŒå…ƒç´ å­—ç¬¦ä¸²å°±ä¸€æ ·äº†ã€‚ éå†æŠŠæ’åºå­—ç¬¦å½“é”®ï¼ŒåŸå…ƒç´ å½“å€¼åŠ å…¥åˆ—è¡¨ã€‚ åœ¨ç»“åˆåˆ¤æ–­å°±è½»æ¾æå®šäº†ï¼Œç»†èŠ‚çœ‹ä»£ç [ä¸€ä¸å°å¿ƒ](https://leetcode.cn/problems/group-anagrams/solutions/868383/zi-dian-gao-ding-hao-li-jie-dai-ma-duan-qitb3/)

```r
class Solution:

# å®šä¹‰groupAnagramsæ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„åˆ—è¡¨strsä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›å¦ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„åˆ—è¡¨
def groupAnagrams(self, strs: List[str]) -> List[List[str]]:

    # åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸r
    r = {}

    # éå†å­—ç¬¦ä¸²åˆ—è¡¨strsä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ 
    for i in strs:
        
        # å°†è¯¥å…ƒç´ è¿›è¡Œæ’åºå¹¶ç»„åˆç”Ÿæˆä¸€ä¸ªæ–°å­—ç¬¦ä¸²s
        s = ''.join(sorted(i))
        
        # å¦‚æœæ–°ç”Ÿæˆçš„å­—ç¬¦ä¸²sä¸å­˜åœ¨äºå­—å…¸rçš„é”®ä¸­ï¼Œå°±å°†è¯¥å…ƒç´ è½¬åŒ–ä¸ºå­—å…¸rçš„ä¸€ä¸ªæ–°é”®ï¼Œå¯¹åº”å€¼æ˜¯ä»…è¯¥å…ƒç´ çš„å•ä¸€åˆ—è¡¨
        if s not in r:
            r[s] = [i]
        
        # å¦‚æœæ–°ç”Ÿæˆçš„å­—ç¬¦ä¸²så·²ç»åœ¨å­—å…¸rçš„é”®ä¸­å­˜åœ¨ï¼Œé‚£ä¹ˆå°±å°†è¿™ä¸ªå…ƒç´ æ·»åŠ åˆ°ä¸è¯¥é”®ç›¸å…³è”çš„åˆ—è¡¨ä¸­
        else:
            r[s].append(i)
    
    # å°†å­—å…¸rä¸­çš„å€¼ä»¥åˆ—è¡¨å½¢å¼æå–å‡ºæ¥ï¼Œè¿”å›ç»“æœ
    return [v for v in r.values()]

```

## æœ€é•¿è¿ç»­åºåˆ—

**é¢˜ç›®æè¿°ï¼š**
ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚

è¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [100,4,200,1,3,2]
è¾“å‡ºï¼š4
è§£é‡Šï¼šæœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [1, 2, 3, 4]ã€‚å®ƒçš„é•¿åº¦ä¸º 4ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [0,3,7,2,5,8,4,6,0,1]
è¾“å‡ºï¼š9
 
 
**è§£é¢˜æ€è·¯**:å…ˆå¯¹numsè¿›è¡Œæ’åºï¼Œè¿™æ ·è¿ç»­çš„å­åºåˆ—è‚¯å®šä¼šæŒ¨åœ¨ä¸€èµ·ï¼Œäº’ç›¸æ‘©æ“¦~ ç‰¹æ®Šæƒ…å†µï¼šç©ºæ•°ç»„ç›´æ¥è¿”å›0ï¼Œå› ä¸ºå®ƒå¤ªå¯‚å¯ï¼Œå’Œæˆ‘ä¸€æ ·ã€‚ å¯ä»¥çœ‹å‡ºï¼Œè¯¥é—®é¢˜æ˜æ˜¾æ»¡è¶³æ‰€è°“çš„æœ€ä¼˜å­ç»“æ„ä¸å­é—®é¢˜é‡å ï¼Œç›¸äº’äº¤!å‰![Faye Wong]
(https://leetcode.cn/problems/longest-consecutive-sequence/solutions/1402682/dong-tai-gui-hua-dp-by-fayewong6-ta79/)

```r
class Solution:
    def longestConsecutive(self, nums: List[int]) -> int:
        if not nums:return 0
        nums.sort()
        dp=[1]*len(nums)#åˆå§‹åŒ–ï¼Œæœ€çŸ­çš„è¿ç»­å­åºåˆ—é•¿åº¦ä¹Ÿå°±ä¸º1ï¼Œå°±æ˜¯å•ä¸ªæ•°
        for i in range(1,len(nums)):
            if nums[i]-nums[i-1]==1:#å¦‚æœå‰åæ­£å¥½ç›¸å·®ä¸€ï¼Œå°±æ˜¯è¿ç»­çš„ï¼Œå°±åœ¨å‰é¢çš„åŸºç¡€ä¸Šé•¿åº¦åŠ 1
                dp[i]=dp[i-1]+1
            elif nums[i]==nums[i-1]:#å¦‚æœå‘ç°å’Œå‰é¢çš„å€¼ç›¸åŒï¼Œé‚£æˆ‘ä»¬æŠŠè¿™ä¸ªé•¿åº¦ä¿æŒä½ï¼Œä»¥ä¾¿åç»­
                dp[i]=dp[i-1]#é‡åˆ°è¿ç»­å­åºåˆ—ç»§ç»­åŠ 1
        return max(dp)#è¿”å›æœ€å¤§çš„é•¿åº¦

```

## ç§»åŠ¨é›¶

ç»™å®šä¸€ä¸ªæ•°ç»„ numsï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°å°†æ‰€æœ‰ 0 ç§»åŠ¨åˆ°æ•°ç»„çš„æœ«å°¾ï¼ŒåŒæ—¶ä¿æŒéé›¶å…ƒç´ çš„ç›¸å¯¹é¡ºåºã€‚

è¯·æ³¨æ„ ï¼Œå¿…é¡»åœ¨ä¸å¤åˆ¶æ•°ç»„çš„æƒ…å†µä¸‹åŸåœ°å¯¹æ•°ç»„è¿›è¡Œæ“ä½œã€‚

 

ç¤ºä¾‹ 1:

è¾“å…¥: nums = [0,1,0,3,12]
è¾“å‡º: [1,3,12,0,0]
ç¤ºä¾‹ 2:

è¾“å…¥: nums = [0]
è¾“å‡º: [0]

è§£é¢˜æ€è·¯ï¼šåŒæŒ‡é’ˆ[åœ¨ä¸‹å°èŠ³ ğŸŒ¸]
(https://leetcode.cn/problems/move-zeroes/solutions/1692862/hao-li-jie-de-shuagn-zhi-shen-by-wo-shi-zvkwm/)

å’ŒæŸä¸ªé“¾è¡¨é¢˜å¾ˆç›¸ä¼¼

```r
class Solution:
    def moveZeroes(self, nums: List[int]) -> None:
        """
        Do not return anything, modify nums in-place instead.
        """
        slow, fast = 0, 0
        while fast < len(nums):
            if nums[fast] != 0:
                nums[slow], nums[fast] = nums[fast], nums[slow]
                slow += 1
            fast += 1
        return nums
```

## ä¸‰æ•°ä¹‹å’Œ

é¢˜ç›®æè¿°
ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œåˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸‰å…ƒç»„ [nums[i], nums[j], nums[k]] æ»¡è¶³ i != jã€i != k ä¸” j != k ï¼ŒåŒæ—¶è¿˜æ»¡è¶³ nums[i] + nums[j] + nums[k] == 0 ã€‚è¯·

ä½ è¿”å›æ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚

æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚

 

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [-1,0,1,2,-1,-4]
è¾“å‡ºï¼š[[-1,-1,2],[-1,0,1]]
è§£é‡Šï¼š
nums[0] + nums[1] + nums[2] = (-1) + 0 + 1 = 0 ã€‚
nums[1] + nums[2] + nums[4] = 0 + 1 + (-1) = 0 ã€‚
nums[0] + nums[3] + nums[4] = (-1) + 2 + (-1) = 0 ã€‚
ä¸åŒçš„ä¸‰å…ƒç»„æ˜¯ [-1,0,1] å’Œ [-1,-1,2] ã€‚
æ³¨æ„ï¼Œè¾“å‡ºçš„é¡ºåºå’Œä¸‰å…ƒç»„çš„é¡ºåºå¹¶ä¸é‡è¦ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [0,1,1]
è¾“å‡ºï¼š[]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸ä¸º 0 ã€‚
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnums = [0,0,0]
è¾“å‡ºï¼š[[0,0,0]]
è§£é‡Šï¼šå”¯ä¸€å¯èƒ½çš„ä¸‰å…ƒç»„å’Œä¸º 0 ã€‚


**è§£é¢˜æ€è·¯**ï¼šåŒæŒ‡é’ˆ+ç‰Œå­¦
ä½†æ˜¯è¦ç‰¹åˆ«æ³¨æ„è¾¹ç•Œå€¼

```r
class Solution:
    def threeSum(self, nums: List[int]) -> List[List[int]]:
        
        n=len(nums)
        res=[]
        if(not nums or n<3):
            return []
        nums.sort()
        res=[]
        for i in range(n):
            if(nums[i]>0):
                return res
            if(i>0 and nums[i]==nums[i-1]): # æ³¨æ„è¿™ä¸ªè¾¹ç•Œå€¼åˆ¤æ–­ï¼Œä¸ºä»€ä¹ˆæ˜¯nums[i]==nums[i-1]è€Œä¸æ˜¯nums[i]==nums[i+1]ï¼Œä¼šä¸¢è§£
                continue
            L=i+1
            R=n-1
            while(L<R):
                if(nums[i]+nums[L]+nums[R]==0):
                    res.append([nums[i],nums[L],nums[R]])
                    while(L<R and nums[L]==nums[L+1]):
                        L=L+1
                    while(L<R and nums[R]==nums[R-1]):
                        R=R-1
                    L=L+1
                    R=R-1
                elif(nums[i]+nums[L]+nums[R]>0):
                    R=R-1
                else:
                    L=L+1
        return res

```

## ç››æ°´æœ€å¤šçš„å®¹å™¨

ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º n çš„æ•´æ•°æ•°ç»„ height ã€‚æœ‰ n æ¡å‚çº¿ï¼Œç¬¬ i æ¡çº¿çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯ (i, 0) å’Œ (i, height[i]) ã€‚

æ‰¾å‡ºå…¶ä¸­çš„ä¸¤æ¡çº¿ï¼Œä½¿å¾—å®ƒä»¬ä¸ x è½´å…±åŒæ„æˆçš„å®¹å™¨å¯ä»¥å®¹çº³æœ€å¤šçš„æ°´ã€‚

è¿”å›å®¹å™¨å¯ä»¥å‚¨å­˜çš„æœ€å¤§æ°´é‡ã€‚

è¯´æ˜ï¼šä½ ä¸èƒ½å€¾æ–œå®¹å™¨ã€‚

ç¤ºä¾‹ 1ï¼š
![](figs/ç››æ°´æœ€å¤šçš„å®¹å™¨.png)

è¾“å…¥ï¼š[1,8,6,2,5,4,8,3,7]
è¾“å‡ºï¼š49 
è§£é‡Šï¼šå›¾ä¸­å‚ç›´çº¿ä»£è¡¨è¾“å…¥æ•°ç»„ [1,8,6,2,5,4,8,3,7]ã€‚åœ¨æ­¤æƒ…å†µä¸‹ï¼Œå®¹å™¨èƒ½å¤Ÿå®¹çº³æ°´ï¼ˆè¡¨ç¤ºä¸ºè“è‰²éƒ¨åˆ†ï¼‰çš„æœ€å¤§å€¼ä¸º 49ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šheight = [1,1]
è¾“å‡ºï¼š1

**è§£é¢˜æ€è·¯**ï¼š
![](figs/ç››æ°´å®¹å™¨1.png)
![](figs/ç››æ°´å®¹å™¨2.png)


```r
class Solution:
    def maxArea(self, height: List[int]) -> int:
        i, j, res = 0, len(height) - 1, 0
        while i < j:
            if height[i] < height[j]:
                res = max(res, height[i] * (j - i))
                i += 1
            else:
                res = max(res, height[j] * (j - i))
                j -= 1
        return res
```

## æ¥é›¨æ°´

hardé¢˜

![](figs/jieyushui.png)

è§£é¢˜æ€è·¯ï¼šå•è°ƒæ ˆï¼ˆå•è°ƒé€’å‡æ ˆï¼‰ï¼ŒåŒæŒ‡é’ˆï¼ŒåŠ¨æ€è§„åˆ’

éå†çš„æ˜¯ä¸‹æ ‡

```r
class Solution(object):
    # å®šä¹‰trapæ–¹æ³•ï¼Œæ¥æ”¶ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ç±»å‹çš„å‚æ•°heightï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°ç±»å‹çš„ç»“æœ
    def trap(self, height: List[int]) -> int:
        # åˆå§‹åŒ–å˜é‡resï¼ˆè®°å½•è“„æ°´æ± çš„é¢ç§¯ï¼‰å’Œstackï¼ˆå­˜å‚¨å…ƒç´ ä¸‹æ ‡ï¼‰ï¼Œå¹¶ä½¿ç”¨forå¾ªç¯éå†heightä¸­çš„æ¯ä¸ªå…ƒç´ 
        res = 0
        stack = []
        for i in range(len(height)):
            # å¦‚æœå½“å‰stackä¸ä¸ºç©ºï¼Œå¹¶ä¸”å½“å‰å…ƒç´ å¤§äºstackæœ«å°¾å…ƒç´ æ‰€å¯¹åº”çš„é«˜åº¦
            while stack and height[i]>height[stack[-1]]:
                # å¼¹å‡ºstackæœ«å°¾å…ƒç´ 
                cur=stack.pop()
                # åˆ¤æ–­å¼¹å‡ºè¯¥å…ƒç´ åæ˜¯å¦è¿˜æœ‰è‡³å°‘ä¸€ä¸ªå…ƒç´ åœ¨stackä¸­
                if not stack:
                    break
                # è®¡ç®—å½“å‰å¼¹å‡ºå…ƒç´ ä¸æ–°æ ˆé¡¶å…ƒç´ ä¹‹é—´çš„è“„æ°´æ± é¢ç§¯ï¼Œå¹¶å°†ç»“æœç´¯åŠ åˆ°resä¸­
                h=min(height[i],height[stack[-1]]) - height[cur]
                res += (i-stack[-1]-1)*h

            # å°†å½“å‰å…ƒç´ çš„ä¸‹æ ‡æ·»åŠ åˆ°stackä¸­
            stack.append(i)

        # è¿”å›è®¡ç®—å¾—åˆ°çš„è“„æ°´æ± é¢ç§¯res
        return res
```


## æ— é‡å¤çš„æœ€é•¿å­—ä¸²


é¢˜ç›®æè¿°ï¼š

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ æœ€é•¿å­ä¸² çš„é•¿åº¦ã€‚

 
ç¤ºä¾‹ 1:

è¾“å…¥: s = "abcabcbb"
è¾“å‡º: 3 
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
ç¤ºä¾‹ 2:

è¾“å…¥: s = "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚
ç¤ºä¾‹ 3:

è¾“å…¥: s = "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
     

è§£é¢˜æ€è·¯ï¼šæ»‘åŠ¨çª—å£

å…¶å®å°±æ˜¯ä¸€ä¸ªé˜Ÿåˆ—,æ¯”å¦‚ä¾‹é¢˜ä¸­çš„ abcabcbbï¼Œè¿›å…¥è¿™ä¸ªé˜Ÿåˆ—ï¼ˆçª—å£ï¼‰ä¸º abc æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼Œå½“å†è¿›å…¥ aï¼Œé˜Ÿåˆ—å˜æˆäº† abcaï¼Œè¿™æ—¶å€™ä¸æ»¡è¶³è¦æ±‚ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¦ç§»åŠ¨è¿™ä¸ªé˜Ÿåˆ—ï¼

å¦‚ä½•ç§»åŠ¨ï¼Ÿ

æˆ‘ä»¬åªè¦æŠŠé˜Ÿåˆ—çš„å·¦è¾¹çš„å…ƒç´ ç§»å‡ºå°±è¡Œäº†ï¼Œç›´åˆ°æ»¡è¶³é¢˜ç›®è¦æ±‚ï¼

ä¸€ç›´ç»´æŒè¿™æ ·çš„é˜Ÿåˆ—ï¼Œæ‰¾å‡ºé˜Ÿåˆ—å‡ºç°æœ€é•¿çš„é•¿åº¦æ—¶å€™ï¼Œæ±‚å‡ºè§£ï¼

æ—¶é—´å¤æ‚åº¦ï¼šO(n)[powcai](https://leetcode.cn/problems/longest-substring-without-repeating-characters/solutions/3982/hua-dong-chuang-kou-by-powcai/)


```r

class Solution:
    def lengthOfLongestSubstring(self, s: str) -> int:
        if not s:
          return 0
        max_len = 0        # æœ€å¤§é•¿åº¦
        tp = []                 # æ”¾å­—ç¬¦ä¸²çš„ä¸€ä¸ªé˜Ÿåˆ—    
        for a in s:
            while a in tp:
                del tp[0]           # åˆ é™¤é˜Ÿåˆ—å·¦è¾¹ç¬¬ä¸€ä¸ªï¼Œç›´åˆ°æ²¡æœ‰é‡å¤çš„å­—ç¬¦ä¸²
            tp.append(a)       
            if len(tp) > max_len: max_len = len(tp)
        return max_len

```

## æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯

é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² s å’Œ pï¼Œæ‰¾åˆ° s ä¸­æ‰€æœ‰ p çš„ å¼‚ä½è¯ çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

å¼‚ä½è¯ æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚


ç¤ºä¾‹ 1:

è¾“å…¥: s = "cbaebabacd", p = "abc"
è¾“å‡º: [0,6]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
 ç¤ºä¾‹ 2:

è¾“å…¥: s = "abab", p = "ab"
è¾“å‡º: [0,1,2]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚


ä¸ªäººæ„Ÿè§‰è¿™ä¸ªä¹Ÿæ˜¯hardé¢˜

```r
class Solution:
    def findAnagrams(self, s: str, p: str) -> List[int]:
        n,m = len(s),len(p)
        res = [] 
        #è®¾ç½®ä¸¤ä¸ªæ•°ç»„ï¼Œåˆ†åˆ«ç”¨æ¥è®°å½•å­—ç¬¦ä¸²så’Œå­—ç¬¦ä¸²pä¸­å­æ¯çš„å‡ºç°ä¸ªæ•°
        #éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªæ•°ç»„çš„ç´¢å¼•åˆ†åˆ«å¯¹åº”ç€å½“å‰å­—ç¬¦ä¸å­—ç¬¦açš„ASCIIç çš„å·®
        s_count = [0] * 26
        p_count = [0] * 26

        for i in range(m):
            #ç»Ÿè®¡på­—ç¬¦ä¸²ï¼Œä¾‹å¦‚p=â€˜abc'ï¼Œæ­¤æ—¶p_count=[1,1,1,0,0...]
            p_count[ord(p[i]) - ord('a')] += 1
        
        #é‡‡ç”¨æ»‘åŠ¨çª—å£çš„æ–¹å¼ï¼Œéå†s
        #éœ€è¦æ³¨æ„çš„æ˜¯ï¼šleftï¼Œrightè¡¨ç¤ºçš„æ˜¯åœ¨å­—ç¬¦ä¸²sä¸­çš„ç´¢å¼•ï¼›cur_left,cur_rightè¡¨ç¤ºçš„æ˜¯å­—ç¬¦ä¸²sä¸­ç´¢å¼•ä¸ºleftå’Œrightçš„å­—ç¬¦åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚
        left = 0
        for right in range(n):
            #è¾¹éå†å­—ç¬¦ä¸²sï¼Œè¾¹æ›´æ–°s_count
            cur_right = ord(s[right]) - ord('a')
            s_count[cur_right] += 1
            #å½“æˆ‘ä»¬å‘ç°æ•°é‡ä¸å¯¹æ—¶(å¯ä»¥ç®€å•ç†è§£ä¸ºæ»‘åŠ¨çª—å£å¤§å°>å›ºå®šçª—å£å¤§å°äº†ï¼Œæ­¤æ—¶éœ€è¦ç§»åŠ¨å·¦çª—å£ï¼Œåœ¨è¿™é‡Œæ˜¯ä¸€ä¸ªé“ç†)
            while s_count[cur_right] > p_count[cur_right]:
                cur_left = ord(s[left]) - ord('a')
                s_count[cur_left] -= 1
                left += 1
            #å¦‚æœæˆ‘ä»¬å‘ç°æ•°é‡æ­£å¥½ï¼Œåˆ™æ»¡è¶³å¼‚ä½è¯çš„æ¡ä»¶ï¼Œå°†å·¦çª—å£ä½ç½®åŠ å…¥ç»“æœåˆ—è¡¨å³å¯
            if right - left + 1 == m:
                res.append(left)
        return res
```

## å’Œä¸ºkçš„å­æ•°ç»„

é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ï¼Œè¯·ä½ ç»Ÿè®¡å¹¶è¿”å› è¯¥æ•°ç»„ä¸­å’Œä¸º k çš„è¿ç»­å­æ•°ç»„çš„ä¸ªæ•° ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,1,1], k = 2
è¾“å‡ºï¼š2
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [1,2,3], k = 3
è¾“å‡ºï¼š2

**è§£é¢˜æ€è·¯**
å‰ç¼€å’Œ
ä»€ä¹ˆæ˜¯å‰ç¼€å’Œï¼šå‰ç¼€å’ŒæŒ‡ä¸€ä¸ªæ•°ç»„çš„æŸä¸‹æ ‡ä¹‹å‰çš„æ‰€æœ‰æ•°ç»„å…ƒç´ çš„å’Œï¼ˆåŒ…å«å…¶è‡ªèº«ï¼‰
é€šå¸¸ï¼Œä¼šåœ¨å‰ç¼€å’Œé¦–ä½æ”¾ä¸€ä¸ª0ã€‚æ¯”å¦‚æ•°ç»„[1,2,3][1,2,3][1,2,3]ã€‚å…¶å‰ç¼€å’Œæ˜¯[0,1,3,6][0,1,3,6][0,1,3,6]

å‰ç¼€å’Œé€šå¸¸å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿè®¡ç®—æŸä¸ªåŒºé—´å†…çš„å’Œã€‚æ¯”å¦‚æˆ‘ä»¬è¦ç®— $i, j$ ä¹‹é—´çš„å’Œï¼Œ $n u m s[i]+n u m s[i+1]+\cdots+n u m s[j]$ ã€‚ä»–å¯ä»¥çœ‹ä½œæ˜¯ $n u m s[0]+n u m s[1]+\cdots$ nums $[i]+n u m s[i+1]+\cdots+n u m s[j]$ å‡å» $n u m s[0]+n u m s[1]+\cdots+n u m s[i-1$ å¼å­ä¹Ÿæ˜¯ $\operatorname{preSum}[j]-\operatorname{preSum}[i-1]$ ã€‚
ä¸è¿‡è¿™ç§è§£æ³•çš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯On2

```r
class Solution:
    def subarraySum(self, nums: List[int], k: int) -> int:
        # è¦æ±‚çš„è¿ç»­å­æ•°ç»„
        count = 0
        n = len(nums)

        preSum = [0]

        # æ±‚å‰ç¼€å’Œæ•°ç»„
        tmp = 0
        for i in range(n):
            tmp += nums[i]
            preSum.append(tmp)
        
        # æ±‚å’Œä¸ºkçš„è¿ç»­å­æ•°ç»„ï¼Œæ±‚iåˆ°jä¹‹é—´çš„å’Œ
        for i in range(1, n+1):
            for j in range(i, n+1):
                if preSum[j] - preSum[i-1] == k:  # preSum[j] - preSum[i-1]ä»£è¡¨ç€åœ¨numsæ•°ç»„ä¸­ï¼Œå‰jä¸ªæ•°ä¹‹å’Œå‡å»å‰i-1ä¸ªæ•°ä¹‹å’Œ
                    count += 1
        
        return count
```

å› æ­¤éœ€è¦è¿›è¡Œä¼˜åŒ–
è¿›ä¸€æ­¥ä¼˜åŒ–çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥è¾¹ç®—å‰ç¼€å’Œï¼Œè¾¹ç»Ÿè®¡ã€‚éå†è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»Ÿè®¡å†å²ä¸­æ¯ä¸€ä¸ªå‰ç¼€å’Œå‡ºç°çš„ä¸ªæ•°ï¼Œç„¶åè®¡ç®—åˆ° $i$ ä½ç½® (å« $i$ ) çš„å‰ç¼€å’Œ presumå‡å»ç›®æ ‡ $k$ åœ¨å†å²ä¸Šå‡ºç°è¿‡å‡ æ¬¡ï¼Œå‡å¦‚å‡ºç°è¿‡ $m$ æ¬¡ï¼Œä»£è¡¨ç¬¬ $i$ ä½ä»¥å‰ (ä¸å« $i$ ) æœ‰ $m$ ä¸ªè¿ç»­å­æ•°ç»„çš„å’Œä¸º presum $-k$ï¼Œè¿™ $m$ ä¸ªå’Œä¸º presum $-k$ çš„è¿ç»­å­æ•°ç»„ï¼Œæ¯ä¸€ä¸ªéƒ½å¯ä»¥å’Œ presum ç»„åˆæˆä¸º presum $($ presum $-k)=k$ã€‚[æ— ç©·å‡é«˜çš„å¡å†œ](https://leetcode.cn/problems/subarray-sum-equals-k/solutions/1447027/python3-by-wu-qiong-sheng-gao-de-qia-non-w6jw/)


```r

class Solution:
    def subarraySum(self, nums: List[int], k: int) -> int:
        # è¦æ±‚çš„è¿ç»­å­æ•°ç»„
        count = 0
        n = len(nums)
        preSums = collections.defaultdict(int) #åˆ›å»ºäº†ä¸€ä¸ªé»˜è®¤å­—å…¸(defaultdict)å¯¹è±¡preSumsï¼Œå®ƒçš„å€¼å…¨éƒ½åˆå§‹åŒ–ä¸º0ã€‚
        preSums[0] = 1

        presum = 0
        for i in range(n):
            presum += nums[i]
            
            # if preSums[presum - k] != 0:
            count += preSums[presum - k]   # åˆ©ç”¨defaultdictçš„ç‰¹æ€§ï¼Œå½“presum-kä¸å­˜åœ¨æ—¶ï¼Œè¿”å›çš„æ˜¯0ã€‚è¿™æ ·é¿å…äº†åˆ¤æ–­

            preSums[presum] += 1  # ç»™å‰ç¼€å’Œä¸ºpresumçš„ä¸ªæ•°åŠ 1
            
        return count
```


## æ»‘åŠ¨çª—å£æœ€å¤§å€¼

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º k çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ k ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

è¿”å› æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ ã€‚

 
![](figs/hdck.png)

è§£é¢˜æ€è·¯
å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªä¸€ç»´çš„æœ€å¤§æ± åŒ–ï¼Œ

ä»£ç å‚è€ƒï¼š[ç¼–ç¨‹æ–‡é’æç‹—è›‹](https://leetcode.cn/problems/sliding-window-maximum/solutions/1212012/acm-xuan-shou-tu-jie-leetcode-hua-dong-c-i3wj/)


```r
class Solution:
    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:

        # å¦‚æœæ•°ç»„ä¸ºç©ºæˆ– k = 0ï¼Œç›´æ¥è¿”å›ç©º
        if not nums or not k:
            return []
        # å¦‚æœæ•°ç»„åªæœ‰1ä¸ªå…ƒç´ ï¼Œç›´æ¥è¿”å›è¯¥å…ƒç´ 
        if len(nums) == 1:
            return [nums[0]]

        # åˆå§‹åŒ–é˜Ÿåˆ—å’Œç»“æœï¼Œé˜Ÿåˆ—å­˜å‚¨æ•°ç»„çš„ä¸‹æ ‡
        queue = []
        res = []

        for i in range(len(nums)):
            # å¦‚æœå½“å‰é˜Ÿåˆ—æœ€å·¦ä¾§å­˜å‚¨çš„ä¸‹æ ‡ç­‰äº i-k çš„å€¼ï¼Œä»£è¡¨ç›®å‰é˜Ÿåˆ—å·²æ»¡ã€‚
            # ä½†æ˜¯æ–°å…ƒç´ éœ€è¦è¿›æ¥ï¼Œæ‰€ä»¥åˆ—è¡¨æœ€å·¦ä¾§çš„ä¸‹æ ‡å‡ºé˜Ÿåˆ—
            if queue and queue[0] == i - k:
                queue.pop(0)

            # å¯¹äºæ–°è¿›å…¥çš„å…ƒç´ ï¼Œå¦‚æœé˜Ÿåˆ—å‰é¢çš„æ•°æ¯”å®ƒå°ï¼Œé‚£ä¹ˆå‰é¢çš„éƒ½å‡ºé˜Ÿåˆ—
            while queue and nums[queue[-1]] < nums[i]:
                queue.pop()
            # æ–°å…ƒç´ å…¥é˜Ÿåˆ—
            queue.append(i)

            # å½“å‰çš„å¤§å€¼åŠ å…¥åˆ°ç»“æœæ•°ç»„ä¸­
            if i >= k-1:
                res.append(nums[queue[0]])

        return res


```

## æœ€å°è¦†ç›–å­—ä¸²

ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² s ã€ä¸€ä¸ªå­—ç¬¦ä¸² t ã€‚è¿”å› s ä¸­æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ s ä¸­ä¸å­˜åœ¨æ¶µç›– t æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² "" ã€‚
æ³¨æ„ï¼š
å¯¹äº t ä¸­é‡å¤å­—ç¬¦ï¼Œæˆ‘ä»¬å¯»æ‰¾çš„å­å­—ç¬¦ä¸²ä¸­è¯¥å­—ç¬¦æ•°é‡å¿…é¡»ä¸å°‘äº t ä¸­è¯¥å­—ç¬¦æ•°é‡ã€‚
å¦‚æœ s ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚
ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šs = "ADOBECODEBANC", t = "ABC"
è¾“å‡ºï¼š"BANC"
è§£é‡Šï¼šæœ€å°è¦†ç›–å­ä¸² "BANC" åŒ…å«æ¥è‡ªå­—ç¬¦ä¸² t çš„ 'A'ã€'B' å’Œ 'C'ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šs = "a", t = "a"
è¾“å‡ºï¼š"a"
è§£é‡Šï¼šæ•´ä¸ªå­—ç¬¦ä¸² s æ˜¯æœ€å°è¦†ç›–å­ä¸²ã€‚
ç¤ºä¾‹ 3:

è¾“å…¥: s = "a", t = "aa"
è¾“å‡º: ""
è§£é‡Š: t ä¸­ä¸¤ä¸ªå­—ç¬¦ 'a' å‡åº”åŒ…å«åœ¨ s çš„å­ä¸²ä¸­ï¼Œ
å› æ­¤æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­å­—ç¬¦ä¸²ï¼Œè¿”å›ç©ºå­—ç¬¦ä¸²ã€‚

hardé¢˜

è§£æ³•ä¸€

```r
class Solution:
    def minWindow(self, s: str, t: str) -> str:
        need = collections.defaultdict(int)
        for c in t:
            need[c] += 1
        needCnt = len(t)
        i = 0 #è®°å½•èµ·å§‹ä½ç½®
        res = (0, float('inf'))  #ç”¨ä¸¤ä¸ªå…ƒç´ ï¼Œæ–¹ä¾¿ä¹‹åè®°å½•èµ·ç»ˆç‚¹
        #ä¸‰æ­¥éª¤ï¼š
        #1. å¢åŠ å³è¾¹ç•Œä½¿æ»‘çª—åŒ…å«t
        for j,c in enumerate(s):
            if need[c] >0:
                needCnt -= 1
            need[c] -= 1 #è¿™è¡Œæ”¾åœ¨å¤–é¢ä¸å¯ä»¥ï¼Œçœ‹19è¡Œ need[c] == 0
        #2. æ”¶ç¼©å·¦è¾¹ç•Œç›´åˆ°æ— æ³•å†å»æ‰å…ƒç´    !æ³¨æ„ï¼Œå¤„ç†çš„æ˜¯i
            if needCnt == 0:
                while True:
                    c = s[i]
                    if need[c] == 0: #è¡¨ç¤ºå†å»æ‰å°±ä¸è¡Œäº†(need>0)
                        break
                    else:
                        need[c] += 1
                        i += 1
                if j-i < res[1] - res[0]:  #è¿™é‡Œæ˜¯å¦å‡ä¸€éƒ½å¯ä»¥ï¼Œåªè¦æ¯æ¬¡éƒ½æ˜¯è¿™æ ·ç®—çš„å°±è¡Œï¼Œåæ­£æœ€åä¹Ÿæ˜¯è¾“å‡ºå­ä¸²è€Œéé•¿åº¦
                    res = (i,j)
        #3. iå¤šå¢åŠ ä¸€ä¸ªä½ç½®ï¼Œå‡†å¤‡å¼€å§‹ä¸‹ä¸€æ¬¡å¾ªç¯(æ³¨æ„è¿™æ­¥æ˜¯åœ¨ needCnt == 0é‡Œé¢è¿›è¡Œçš„ )
                need[s[i]] += 1
                needCnt += 1    #ç”±äº ç§»åŠ¨å‰iè¿™ä¸ªä½ç½® ä¸€å®šæ˜¯æ‰€éœ€çš„å­—æ¯ï¼Œå› æ­¤NeedCntæ‰éœ€è¦+1
                i += 1
        return "" if res[1]>len(s) else s[res[0]: res[1]+1]

```

è§£æ³•äºŒ
```r
class Solution:
    def minWindow(self, s: 'str', t: 'str') -> 'str':
        from collections import Counter
        t = Counter(t)
        lookup = Counter()
        start = end = 0
        min_len = float("inf")
        res = ""
        while end < len(s):
            lookup[s[end]] += 1
            end += 1
            while all(map(lambda x: lookup[x] >= t[x], t.keys())):
                if end - start < min_len:
                    res = s[start:end]
                    min_len = end - start
                lookup[s[start]] -= 1
                start += 1
        return res

```

## æœ€å¤§å­æ•°ç»„å’Œ

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚

å­æ•°ç»„ æ˜¯æ•°ç»„ä¸­çš„ä¸€ä¸ªè¿ç»­éƒ¨åˆ†ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [-2,1,-3,4,-1,2,1,-5,4]
è¾“å‡ºï¼š6
è§£é‡Šï¼šè¿ç»­å­æ•°ç»„ [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º 6 ã€‚
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [1]
è¾“å‡ºï¼š1
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnums = [5,4,-1,7,8]
è¾“å‡ºï¼š23

è§£é¢˜æ€è·¯ï¼šæ¯”è¾ƒç»å…¸çš„åŠ¨æ€è§„åˆ’

```r
from typing import List
class Solution:
    def maxSubArray(self, nums: List[int]) -> int:
        size = len(nums)
        pre = 0
        res = nums[0]
        for i in range(size):
            pre = max(nums[i], pre + nums[i])
            res = max(res, pre)
        return res

```

## åˆå¹¶åŒºé—´


é¢˜ç›®æè¿°
ä»¥æ•°ç»„ intervals è¡¨ç¤ºè‹¥å¹²ä¸ªåŒºé—´çš„é›†åˆï¼Œå…¶ä¸­å•ä¸ªåŒºé—´ä¸º intervals[i] = [starti, endi] ã€‚è¯·ä½ åˆå¹¶æ‰€æœ‰é‡å çš„åŒºé—´ï¼Œå¹¶è¿”å› ä¸€ä¸ªä¸é‡å çš„åŒºé—´æ•°ç»„ï¼Œè¯¥æ•°ç»„éœ€æ°å¥½è¦†ç›–è¾“å…¥ä¸­çš„æ‰€æœ‰åŒºé—´ ã€‚

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šintervals = [[1,3],[2,6],[8,10],[15,18]]
è¾“å‡ºï¼š[[1,6],[8,10],[15,18]]
è§£é‡Šï¼šåŒºé—´ [1,3] å’Œ [2,6] é‡å , å°†å®ƒä»¬åˆå¹¶ä¸º [1,6].
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šintervals = [[1,4],[4,5]]
è¾“å‡ºï¼š[[1,5]]
è§£é‡Šï¼šåŒºé—´ [1,4] å’Œ [4,5] å¯è¢«è§†ä¸ºé‡å åŒºé—´ã€‚

**ç”»ä¸ªå›¾å°±å°±æ‡‚äº†ï¼Œè€Œä¸”ä»Šå¤©å‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œleetcodeå°±æ˜¯ç”¨ä»£ç è§£å†³å°å­¦æ•°å­¦åº”ç”¨é¢˜ï¼Œè€Œå°å­¦æ•°å­¦åº”ç”¨é¢˜æ˜¯æˆ‘çš„æ­»ç©´**

æ ¸å¿ƒï¼šå…¶å®æ˜¯è´ªå¿ƒæ³•çš„ä½“ç°ï¼Œå…³æ³¨äºç›¸é‚»çš„ä¸¤ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå°±æœ‰ä¸¤ç§æƒ…å†µï¼Œä»¥[[1,3],[2,6],[8,10],[15,18]]ä¸ºä¾‹ã€‚

å…ˆå¯¹äºŒç»´æ•°ç»„æŒ‰ä¸€ç»´æ•°ç»„çš„ç¬¬0ä½è¿›è¡Œæ’åºï¼Œå‡è®¾ç»“æœæ˜¯res=[]ã€‚

å½“resä¸ºç©ºæ—¶å…ˆå°†[1,3]åŠ å…¥åˆ°resä¸­ï¼Œå†éå†åˆ°[2,6]ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æƒ…å†µï¼Œå¦‚æœå½“å‰æ•°ç»„çš„ç¬¬0ä½å¤§äºresä¸­æœ€åä¸€ä¸ªæ•°ç»„çš„ç¬¬1ä½ï¼Œè¯´æ˜å½“å‰æ•°ç»„å’Œresæœ«å°¾çš„æ•°ç»„ä¸ä¼šé‡å ï¼Œæ­¤æ—¶ä¹‹é—´å°†å½“å‰æ•°ç»„åŠ åˆ°resæœ«å°¾ã€‚å¦‚æœå½“å‰æ•°ç»„ç¬¬0ä½å°äºæˆ–ç­‰äºresæœ«å°¾æ•°ç»„ç¬¬1ä½ï¼Œå†åˆ¤æ–­å½“å‰æ•°ç»„ç¬¬1ä½å’Œresæœ«å°¾æ•°ç»„ç¬¬ä¸€ä½èª°å¤§ï¼Œå°†å…¶æ›´æ–°resæœ«å°¾æ•°ç»„çš„ç¬¬ä¸€ä½ã€‚ä¾æ¬¡ç±»æ¨ã€‚

```r
class Solution:
    def merge(self, intervals: List[List[int]]) -> List[List[int]]:
        res = []
        intervals.sort() # æ²¡å¤ªç†è§£è¿™ä¸ªæ“ä½œçš„å«ä¹‰ï¼Œæˆ‘ç”šè‡³è§‰å¾—ä¸åŠ è¿™ä¸ªä¹Ÿå¯ä»¥
        for i in intervals:
            if not res or res[-1][1]<i[0]:
                res.append(i)
            else:
                res[-1][1] = max(res[-1][1],i[1])
        return res
```

## è½®è½¬æ•°ç»„

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œå°†æ•°ç»„ä¸­çš„å…ƒç´ å‘å³è½®è½¬ k ä¸ªä½ç½®ï¼Œå…¶ä¸­ k æ˜¯éè´Ÿæ•°ã€‚

ç¤ºä¾‹ 1:

è¾“å…¥: nums = [1,2,3,4,5,6,7], k = 3
è¾“å‡º: [5,6,7,1,2,3,4]
è§£é‡Š:
å‘å³è½®è½¬ 1 æ­¥: [7,1,2,3,4,5,6]
å‘å³è½®è½¬ 2 æ­¥: [6,7,1,2,3,4,5]
å‘å³è½®è½¬ 3 æ­¥: [5,6,7,1,2,3,4]
ç¤ºä¾‹ 2:

è¾“å…¥ï¼šnums = [-1,-100,3,99], k = 2
è¾“å‡ºï¼š[3,99,-1,-100]
è§£é‡Š: 
å‘å³è½®è½¬ 1 æ­¥: [99,-1,-100,3]
å‘å³è½®è½¬ 2 æ­¥: [3,99,-1,-100]

```r
arr=[1,2,3,4,5,6,7]
def xz(nums,k):
    return nums[k:]+nums[:k]

print(xz(arr,3))
```

## é™¤è‡ªèº«ä»¥å¤–æ•°ç»„çš„ä¹˜ç§¯

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ numsï¼Œè¿”å› æ•°ç»„ answer ï¼Œå…¶ä¸­ answer[i] ç­‰äº nums ä¸­é™¤ nums[i] ä¹‹å¤–å…¶ä½™å„å…ƒç´ çš„ä¹˜ç§¯ ã€‚

é¢˜ç›®æ•°æ® ä¿è¯ æ•°ç»„ numsä¹‹ä¸­ä»»æ„å…ƒç´ çš„å…¨éƒ¨å‰ç¼€å…ƒç´ å’Œåç¼€çš„ä¹˜ç§¯éƒ½åœ¨  32 ä½ æ•´æ•°èŒƒå›´å†…ã€‚

è¯·ä¸è¦ä½¿ç”¨é™¤æ³•ï¼Œä¸”åœ¨ O(n) æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ­¤é¢˜ã€‚

 

ç¤ºä¾‹ 1:

è¾“å…¥: nums = [1,2,3,4]
è¾“å‡º: [24,12,8,6]
ç¤ºä¾‹ 2:

è¾“å…¥: nums = [-1,1,0,-3,3]
è¾“å‡º: [0,0,9,0,0]

æš´åŠ›è§£æ³•

```r
class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        ans = []
        for i in range(len(nums)):
            sum = 1
            for j in nums[:i] + nums[i + 1:]:
                sum = sum * j
            ans.append(sum)
        return ans

```

å‰ç¼€ä¹˜ç§¯+åç¼€ä¹˜ç§¯

```r
class Solution:
    def productExceptSelf(self, nums: List[int]) -> List[int]:
        n = len(nums)
        ans = [0] * n
        ans[0] = 1
        # è®°å½•å‰ç¼€ä¹˜ç§¯
        for i in range(1, n):
            ans[i] = ans[i - 1] * nums[i - 1]
        # ræ˜¯åç¼€åˆå§‹å€¼
        r = 1
        for i in range(n - 1, -1, -1):
            ans[i] = ans[i] * r
            # ræ˜¯åç¼€ä¹˜ç§¯
            r = r * nums[i]
        return ans
```


## ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•°

ç»™ä½ ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­æ²¡æœ‰å‡ºç°çš„æœ€å°çš„æ­£æ•´æ•°ã€‚

è¯·ä½ å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) å¹¶ä¸”åªä½¿ç”¨å¸¸æ•°çº§åˆ«é¢å¤–ç©ºé—´çš„è§£å†³æ–¹æ¡ˆã€‚
 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼šnums = [1,2,0]
è¾“å‡ºï¼š3
ç¤ºä¾‹ 2ï¼š

è¾“å…¥ï¼šnums = [3,4,-1,1]
è¾“å‡ºï¼š2
ç¤ºä¾‹ 3ï¼š

è¾“å…¥ï¼šnums = [7,8,9,11,12]
è¾“å‡ºï¼š1

è§£é¢˜æ€è·¯

å½“å¿½ç•¥æ—¶é—´å¤æ‚åº¦,æ¯”è¾ƒç®€å•

```r
class Solution:
    def firstMissingPositive(self, nums: List[int]) -> int:
        num=1
        nums.sort()
        for v in nums:
            if num==v:
                num+=1
        return num

```

å®é™…æƒ³è€ƒå¯Ÿhash

```r
class Solution:
    def firstMissingPositive(self, nums: List[int]) -> int:
        for a in nums: #éå†æ¯ä¸ªåº§ä½ï¼Œè®°å½“å‰åç€aå·ä¹˜å®¢
            while 0<a<=len(nums) and a!=nums[a-1]:  #ä¹˜å®¢aæ˜¯æ­£ç¥¨ä½†åé”™äº†! å…¶åº§ä½è¢« ta=nums[a-1]å äº†
                nums[a-1], a = a, nums[a - 1]  # aå’Œtaä¸¤äººäº’æ¢åˆ™aå¯¹å·å…¥åº§ã€‚æ­¤åtaç›¸å½“äºæ–°çš„aï¼Œå»æ‰¾è‡ªå·±çš„åº§ä½ï¼ˆå¾ªç¯æ‰§è¡Œï¼‰
        for i in range(len(nums)):
            if i+1!=nums[i]:return i+1  #æ‰¾åˆ°é¦–ä¸ªæ²¡æœ‰å¯¹å·å…¥åº§çš„nums[i]!=i+1
        return len(nums)+1  #æ»¡åº§ï¼Œè¿”å›N+1
        
```

## çŸ©é˜µç½®é›¶

![](figs/jzzl.png)


è§£é¢˜æ€è·¯

æ€è·¯ä¸€: ç”¨ O(m+n)é¢å¤–ç©ºé—´

ä¸¤éæ‰«matrix,ç¬¬ä¸€éç”¨é›†åˆè®°å½•å“ªäº›è¡Œ,å“ªäº›åˆ—æœ‰0;ç¬¬äºŒéç½®0



æ€è·¯äºŒ: ç”¨O(1)ç©ºé—´

å…³é”®æ€æƒ³: ç”¨matrixç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—è®°å½•è¯¥è¡Œè¯¥åˆ—æ˜¯å¦æœ‰0,ä½œä¸ºæ ‡å¿—ä½

ä½†æ˜¯å¯¹äºç¬¬ä¸€è¡Œ,å’Œç¬¬ä¸€åˆ—è¦è®¾ç½®ä¸€ä¸ªæ ‡å¿—ä½,ä¸ºäº†é˜²æ­¢è‡ªå·±è¿™ä¸€è¡Œ(ä¸€åˆ—)ä¹Ÿæœ‰0çš„æƒ…å†µ.æ³¨é‡Šå†™åœ¨ä»£ç é‡Œ,ç›´æ¥çœ‹ä»£ç å¾ˆå¥½ç†è§£![powcai](https://leetcode.cn/problems/set-matrix-zeroes/solutions/6594/o1kong-jian-by-powcai/)

```r
class Solution:
    def setZeroes(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        row = len(matrix)
        col = len(matrix[0])
        row_zero = set()
        col_zero = set()
        for i in range(row):
            for j in range(col):
                if matrix[i][j] == 0:
                    row_zero.add(i)
                    col_zero.add(j)
        for i in range(row):
            for j in range(col):
                if i in row_zero or j in col_zero:
                    matrix[i][j] = 0

```

```r
class Solution:
    def setZeroes(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        flag_col = False
        row = len(matrix)
        col = len(matrix[0])
        for i in range(row):
            if matrix[i][0] == 0: flag_col = True
            for j in range(1,col):
                if matrix[i][j] == 0:
                    matrix[i][0] = matrix[0][j] = 0
        
        for i in range(row - 1, -1, -1):
            for j in range(col - 1, 0, -1):
                if matrix[i][0] == 0 or matrix[0][j] == 0:
                    matrix[i][j] = 0

            if flag_col == True: matrix[i][0] = 0

```

## èºæ—‹çŸ©é˜µ

ç»™ä½ ä¸€ä¸ª m è¡Œ n åˆ—çš„çŸ©é˜µ matrix ï¼Œè¯·æŒ‰ç…§ é¡ºæ—¶é’ˆèºæ—‹é¡ºåº ï¼Œè¿”å›çŸ©é˜µä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚

![](figs/lxjz.png)


è§£é¢˜æ€è·¯

æ€è·¯ä¸€ï¼šå¤§ä½¬æ€è·¯[è¿™ä¹ˆæ°´å¯ä¸è¡Œ](https://leetcode.cn/problems/spiral-matrix/solutions/2057738/python-zip-by-zhuzhzzz-tk7a/)

```r
def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        res = []
        while matrix:
            # å‰Šå¤´ï¼ˆç¬¬ä¸€å±‚ï¼‰
            res += matrix.pop(0)
            # å°†å‰©ä¸‹çš„é€†æ—¶é’ˆè½¬ä¹ååº¦ï¼Œç­‰å¾…ä¸‹æ¬¡è¢«å‰Š
            matrix = list(zip(*matrix))[::-1]
        return res
```

zipå‡½æ•°ä¸å¸¸ç”¨ï¼ŒæŠŠä¸­é—´ç»“æœå±•ç¤ºå‡ºæ¥


![](figs/lxjz2.png)

æ€è·¯äºŒï¼šé€’å½’

```r
class Solution:
    def spiralOrder(self, matrix: List[List[int]]) -> List[int]:
        if not matrix or not matrix[0]:
            return list()
        
        rows, columns = len(matrix), len(matrix[0])
        order = list()
        left, right, top, bottom = 0, columns - 1, 0, rows - 1
        while left <= right and top <= bottom:
            for column in range(left, right + 1):
                order.append(matrix[top][column])
            for row in range(top + 1, bottom + 1):
                order.append(matrix[row][right])
            if left < right and top < bottom:
                for column in range(right - 1, left, -1):
                    order.append(matrix[bottom][column])
                for row in range(bottom, top, -1):
                    order.append(matrix[row][left])
            left, right, top, bottom = left + 1, right - 1, top + 1, bottom - 1
        return order

```

## æ—‹è½¬å›¾åƒ

ç»™å®šä¸€ä¸ª n Ã— n çš„äºŒç»´çŸ©é˜µ matrix è¡¨ç¤ºä¸€ä¸ªå›¾åƒã€‚è¯·ä½ å°†å›¾åƒé¡ºæ—¶é’ˆæ—‹è½¬ 90 åº¦ã€‚

ä½ å¿…é¡»åœ¨ åŸåœ° æ—‹è½¬å›¾åƒï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ç›´æ¥ä¿®æ”¹è¾“å…¥çš„äºŒç»´çŸ©é˜µã€‚è¯·ä¸è¦ ä½¿ç”¨å¦ä¸€ä¸ªçŸ©é˜µæ¥æ—‹è½¬å›¾åƒã€‚

![](figs/xztx.png)

è§£é¢˜æ€è·¯ï¼Œå’Œèºæ—‹çŸ©é˜µè§£é¢˜æ€è·¯å¾ˆç›¸ä¼¼ï¼Œä¸€æ—¦æ¶‰åŠåˆ°é¡ºæ—¶é’ˆæ—‹è½¬ï¼Œè€ƒè™‘zipå’ŒçŸ©é˜µå€’å™ 

```r
class Solution:
    def rotate(self, matrix: List[List[int]]) -> None:
        """
        Do not return anything, modify matrix in-place instead.
        """
        matrix[:] =[list(tup)[::-1] for tup in zip(*matrix)]
            
```

## æœç´¢äºŒç»´çŸ©é˜µ

ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥æœç´¢ m x n çŸ©é˜µ matrix ä¸­çš„ä¸€ä¸ªç›®æ ‡å€¼ target ã€‚è¯¥çŸ©é˜µå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š

æ¯è¡Œçš„å…ƒç´ ä»å·¦åˆ°å³å‡åºæ’åˆ—ã€‚
æ¯åˆ—çš„å…ƒç´ ä»ä¸Šåˆ°ä¸‹å‡åºæ’åˆ—ã€‚ 

![](figs/ssewjz1.png)
![](figs/ssewjz2.png)

è§£é¢˜æ€è·¯

å¯¹æ¯ä¸€è¡Œåˆ†åˆ«ç”¨äºŒåˆ†æŸ¥æ‰¾:[Awesome Kapitsa2xl](https://leetcode.cn/problems/search-a-2d-matrix-ii/solutions/2266833/di-yi-chong-bi-jiao-jian-dan-de-si-lu-du-wvtr/)

```r
class Solution(object):
    def searchMatrix(self, matrix, target):
        """
        :type matrix: List[List[int]]
        :type target: int
        :rtype: bool
        """
        m  = len(matrix) # è¡Œæ•°
        n = len(matrix[0]) # åˆ—æ•°
        if m==0 or n==0:
            return False
        
        for i in range(m):
            if matrix[i][0]>target:
                break
            if matrix[i][n-1]<target:
                continue
            flage = self.binarySearch(matrix[i],target)
            if flage!=-1:
                return True
        return False

    def binarySearch(self, num,target):
        l = 0
        r = len(num)-1
        while l<=r:
            mid = (l+r)//2
            if target<num[mid]:
                r = mid-1
            elif target>num[mid]:
                l = mid+1
            else:
                return mid
        return -1
```

## é“¾è¡¨ä¸“é¡¹

- [é“¾è¡¨](https://gaowenxin95.github.io/leetcode-cookbook/analysis/é“¾è¡¨é—®é¢˜.html)

### LRU

### å¤åˆ¶å¸¦éšæœºæŒ‡é’ˆçš„é“¾è¡¨


## äºŒå‰æ ‘ä¸“é¡¹

- [äºŒå‰æ ‘](https://gaowenxin95.github.io/leetcode-cookbook/äºŒå‰æ ‘ä¸“é¢˜.html)


